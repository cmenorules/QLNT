create table KEHOACHGIANGDAY (MaKeHoach int not null identity primary key, NamHoc int not null, HocKy int not null, MaNhanVien int not null, MaPhong int not null, MaChuongTrinh int not null)
create table PHONGHOC (MaPhong int not null identity primary key, TenPhong nvarchar(5))
create table CHUONGTRINHHOC (MaChuongTrinh int not null identity primary key, NgayApDung datetime, MaKhoi int, GhiChu nvarchar(100))
create table DINHDUONG (MaDinhDuong int not null identity primary key, MaKeHoach int not null,Buoi int,Thu nvarchar(10),Tuan int,NgayThangNam datetime,MonChinh nvarchar(50),MonCanh nvarchar(50),MonPhu nvarchar(50),MonTrangMieng nvarchar(50))
create table PHIEUDIEMDANH (MaPhieuDiemDanh int not null identity primary key,MaKeHoach int not null,Thu nvarchar(10),Tuan int,NgayThangNam datetime)
create table CHITIETPHIEUDIEMDANH(MaPhieuDiemDanh int not null,MaTre int not null,DaDiHoc bit not null,DaDonVe bit not null)
create table KHOI(MaKhoi int not null identity primary key,TenKhoi nvarchar(5))
create table THOIKHOABIEU(MaThoiKhoaBieu int not null identity primary key,MaChuongTrinh int,HoatDong nvarchar(100),Buoi int,Tuan int)
create table QUYDINH(MaQuyDinh int not null identity primary key,NoiDung nvarchar(50))
create table THONGTINNHATRE(TenNhaTre nvarchar(50),Email nvarchar(50) unique,DiaChi nvarchar(50),SoDienThoai int)
create table NHANVIEN(MaNhanVien int not null identity primary key,HoTen nvarchar(50),Email nvarchar(50),MatKhau nvarchar(50))
create table QUYENHAN(MaNhomNguoiDung int not null,MaNhanVien int not null)
create table NHOMNGUOIDUNG(MaNhomNguoiDung int not null primary key,TenNhomNguoiDung nvarchar(50))
create table NHOMCHUCNANG(MaNhomNguoiDung int not null,MaChucNang int not null)
create table CHUCNANG(MaChucNang int not null identity primary key,TenChucNang nvarchar(50))
create table DANGKYHOC(MaDangKy int not null identity primary key,MaKeHoach int,MaTre int,SoThuTu int)
create table TREEM(MaTre int not null primary key,HoTen nvarchar(50),TenThanMat nvarchar(20),GioiTinh nvarchar(10),NgaySinh datetime,DanToc nvarchar(10),TonGiao nvarchar(10),DoiTuongUuTien int,TinhCach nvarchar(50),ThoiQuen nvarchar(50),MaHoSoTreEm int)
create table HOSOTREEM(MaHoSoTreEm int not null primary key,HoTenCha nvarchar(50),HoTenMe nvarchar(50),HoTenNguoiGiamHo nvarchar(50),EmailNguoiGiamHo nvarchar(50),SoDienThoaiNguoiGiamHo int,DiaChi nvarchar(50))
create table PHIEUSUCKHOE(MaPhieuSucKhoe int not null identity primary key,NgayKham datetime,ChieuCao int,CanNang int,DaLieu nvarchar(50),TaiMuiHong nvarchar(50),RangHamMat nvarchar(50),HoHap nvarchar(50),MaDangKy int)
create table PHIEUHOATDONG(MaPhieuHoatDong int not null identity primary key,HoatDong nvarchar(100),Ngay datetime,DanhGia nvarchar(100),MaDangKy int)
create table PHIEUTONGKET(MaPhieuTongKet int not null identity primary key,PhatTrienTheChat nvarchar(50), Ngay datetime, PhatTrienNhanThuc nvarchar(30),PhatTrienNangKhieu nvarchar(50),PhatTrienNgonNgu nvarchar(50),PhatTrienQuanHe nvarchar(50),BeNgoan nvarchar(10),MaDangKy int)
alter table PHIEUTONGKET add constraint fk_PHIEUTONGKET foreign key (MaDangKy) references DANGKYHOC(MaDangKy)
alter table KEHOACHGIANGDAY add constraint fk_KEHOACHGIANGDAY1 foreign key (MaNhanVien) references NHANVIEN (MaNhanVien) 
alter table KEHOACHGIANGDAY add constraint fk_KEHOACHGIANGDAY2 foreign key (MaPhong) references PHONGHOC (MaPhong)
alter table KEHOACHGIANGDAY add constraint fk_KEHOACHGIANGDAY3 foreign key (MaChuongTrinh) references CHUONGTRINHHOC (MaChuongTrinh)
alter table CHUONGTRINHHOC add constraint fk_CHUONGTRINHHOC foreign key (MaKhoi) references KHOI(MaKhoi)
alter table DINHDUONG add constraint fk_DINHDUONG foreign key (MaKeHoach) references KEHOACHGIANGDAY (MaKeHoach)
alter table PHIEUDIEMDANH add constraint fk_PHIEUDIEMDANH foreign key (MaKeHoach) references KEHOACHGIANGDAY(MaKeHoach)
alter table CHITIETPHIEUDIEMDANH add constraint fk_CHITIETPHIEUDIEMDANH foreign key (MaPhieuDiemDanh) references PHIEUDIEMDANH (MaPhieuDiemDanh)
alter table CHITIETPHIEUDIEMDANH add constraint pk primary key (MaPhieuDiemDanh, MaTre)
alter table THOIKHOABIEU add constraint fk_THOIKHOABIEU foreign key (MaChuongTrinh) references CHUONGTRINHHOC(MaChuongTrinh)
alter table QUYENHAN add constraint pk_QUYENHAN primary key (MaNhomNguoiDung, MaNhanVien)
alter table QUYENHAN add constraint fk_QUYENHAN1 foreign key (MaNhomNguoiDung) references NHOMNGUOIDUNG(MaNhomNguoiDung)
alter table QUYENHAN add constraint fk_QUYENHAN2 foreign key (MaNhanVien) references NHANVIEN(MaNhanVien) 
alter table NHOMCHUCNANG add constraint pk_NHOMCHUCNANG primary key (MaNhomNguoiDung, MaChucNang)
alter table NHOMCHUCNANG add constraint fk_NHOMCHUCNANG1 foreign key (MaNhomNguoiDung) references NHOMNGUOIDUNG(MaNhomNguoiDung)
alter table NHOMCHUCNANG add constraint fk_NHOMCHUCNANG2 foreign key (MaChucNang) references CHUCNANG(MaChucNang)
alter table DANGKYHOC add constraint fk_DANGKYHOC foreign key (MaKeHoach) references KEHOACHGIANGDAY(MaKeHoach)
alter table TREEM add constraint fk_TREEM foreign key (MaHoSoTreEm) references HOSOTREEM(MaHoSoTreEm)
alter table PHIEUSUCKHOE add constraint fk_PHIEUSUCKHOE foreign key (MaDangKy) references DANGKYHOC(MaDangKy)
alter table PHIEUHOATDONG add constraint fk_PHIEUHOATDONG foreign key (MaDangKy) references DANGKYHOC(MaDangKy)